[package]
name = "oxirs-geosparql"
version.workspace = true
authors.workspace = true
edition.workspace = true
license.workspace = true
repository.workspace = true
homepage.workspace = true
description = "GeoSPARQL implementation for spatial data and queries"
keywords = ["geosparql", "spatial", "geometry", "gis", "rdf"]
categories = ["algorithms", "data-structures", "science"]
rust-version.workspace = true

[dependencies]
oxirs-core.workspace = true

# SciRS2 dependencies for spatial computing
scirs2-core = { workspace = true }
scirs2-linalg = { workspace = true }
scirs2-graph = { workspace = true }

# Geometry and spatial libraries
geo = "0.30"
geo-types = "0.7"
wkt = "0.11"
quick-xml = { version = "0.37", optional = true }
geojson = { version = "0.24", optional = true }
geos = { version = "10.0", optional = true }
proj = { version = "0.28", optional = true }
geo-buffer = { version = "0.2", optional = true }

# R-tree spatial indexing
rstar = "0.12"

# Serialization
serde = { workspace = true, features = ["derive"] }
serde_json.workspace = true

# Error handling
anyhow.workspace = true
thiserror.workspace = true
tracing.workspace = true

# Utilities
once_cell = "1.21"
parking_lot = "0.12"
regex = "1.11"
dashmap = { version = "6.1", optional = true }

# Optional parallel processing
rayon = { workspace = true, optional = true }

[dev-dependencies]
criterion.workspace = true
tempfile = "3.23"
approx = "0.5"

[features]
default = ["wkt-support"]
wkt-support = []
gml-support = ["quick-xml"]
geojson-support = ["geojson"]
geos-backend = ["geos"]
rust-buffer = ["geo-buffer"]
proj-support = ["proj"]
parallel = ["rayon", "dashmap"]
performance = ["parallel", "dashmap"]

[[bench]]
name = "spatial_operations"
harness = false

[[bench]]
name = "spatial_index"
harness = false

[[bench]]
name = "buffer_performance"
harness = false

[[bench]]
name = "performance_comparison"
harness = false
