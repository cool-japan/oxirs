[package]
name = "oxirs-core"
version.workspace = true
authors.workspace = true
edition.workspace = true
license.workspace = true
repository.workspace = true
homepage.workspace = true
description = "Core RDF and SPARQL functionality for OxiRS - native Rust implementation with zero dependencies"
keywords.workspace = true
categories.workspace = true
rust-version.workspace = true

[dependencies]
# oxigraph.workspace = true    # REMOVED: Replaced with native implementations
# oxrdf.workspace = true       # REMOVED: Replaced with native implementations
# oxjsonld.workspace = true    # REMOVED: Replaced with native implementations
# rio_api.workspace = true     # REMOVED: Using native parsing implementations
# rio_turtle.workspace = true  # REMOVED: Using native parsing implementations  
# rio_xml.workspace = true     # REMOVED: Using native parsing implementations
json-event-parser = { version = "0.2", features = ["async-tokio"] }
# oxiri = "0.2"              # REMOVED: Using native IRI validation
quick-xml = "0.36"
# oxilangtag = "0.1"         # REMOVED: Using native language tag validation
serde = { workspace = true, features = ["derive"] }
serde_json.workspace = true
anyhow.workspace = true
thiserror.workspace = true
tracing.workspace = true
url = "2.5.4"
regex = "1.10"
lazy_static = "1.5"
once_cell = "1.21"

# Ultra performance dependencies
rayon = { version = "1.10", optional = true }
crossbeam = "0.8"
crossbeam-epoch = "0.9"
crossbeam-utils = "0.8"
crossbeam-deque = "0.8"
dashmap = "6.1"
bumpalo = "3.16"
memmap2 = "0.9"
parking_lot = "0.12"
ahash = "0.8"
simd-json = "0.13"
wide = { version = "0.7", optional = true }
num_cpus = "1.16"
sys-info = "0.9"
tokio = { workspace = true, features = ["rt", "sync", "time", "macros", "io-util"] }
async-trait = "0.1"
smallvec = "1.13"
futures = "0.3"

# Hash function dependencies for SPARQL 1.2
sha1 = "0.10"
sha2 = "0.10"
md5 = "0.7"

# Additional dependencies for SPARQL functions
chrono = { version = "0.4", features = ["serde"] }
rand.workspace = true
fastrand = "2.3"
uuid = { version = "1.6", features = ["v4", "serde"] }
urlencoding = "2.1"

# Storage engine dependencies  
rocksdb = { workspace = true, optional = true }
bincode = "1.3"
lru = "0.12"
glob = "0.3"

# Columnar storage dependencies
arrow.workspace = true
datafusion.workspace = true
parquet.workspace = true

# Compression dependencies
lz4 = "1.28"
zstd = "0.13"

# Cryptographic dependencies
blake3 = "1.5"
hex = "0.4"

# BiMap for term interning
bimap = "0.6"

# Zero-copy serialization
bytes = "1.5"

# AI and ML dependencies
ndarray = { version = "0.15", features = ["rayon"] }

# Dependencies for Unicode normalization (replacing oxiri/oxilangtag)
icu = "1.5"
icu_normalizer = "1.5"
icu_properties = "1.5"
# oxiri = "0.2"         # REMOVED: Using native IRI validation
# oxilangtag = "0.1"    # REMOVED: Using native language tag validation

# Random number generation dependencies
rand_core.workspace = true
rand_distr.workspace = true

[dev-dependencies]
criterion.workspace = true
tokio = { workspace = true, features = ["test-util", "rt", "io-util", "macros"] }
tempfile = "3.14"

[features]
default = ["serde", "parallel"]
serde = []
async = []
async-tokio = ["async"]
parallel = ["rayon"]
simd = ["wide"]
gpu = []
cuda = []
opencl = []
metal = []
blas = []
rdf-12 = []
rdf-star = []
sparql-12 = []
datafusion = []
arrow = []
parquet = []
columnar = ["datafusion", "arrow", "parquet"]
rocksdb = ["dep:rocksdb"]

[[bench]]
name = "indexed_graph_bench"
harness = false

[[bench]]
name = "concurrent_graph_bench"
harness = false

[[bench]]
name = "parallel_batch_bench"
harness = false

