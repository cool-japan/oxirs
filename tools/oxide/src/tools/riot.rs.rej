@@ -94,14 +94,12 @@
                 ctx.verbose(&format!("  Output size: {} bytes", result.output.len()));
             }
             
-            if !validate && !count {
-                if !result.output.is_empty() {
-                    if input.len() > 1 {
-                        // Multiple files - add separator comment
-                        all_output.push_str(&format!("# File: {}\n", input_file.display()));
-                    }
-                    all_output.push_str(&result.output);
-                    all_output.push('\n');
+            if !validate && !count && !result.output.is_empty() {
+                if input.len() > 1 {
+                    // Multiple files - add separator comment
+                    all_output.push_str(&format!("# File: {}\n", input_file.display()));
                 }
+                all_output.push_str(&result.output);
+                all_output.push('\n');
             }
         } else {
